import{_ as L}from"./nuxt-link.7a15a13a.js";import{_ as V}from"./client-only.08977553.js";import{_ as N,s as P,aD as R,n as A,r as s,q as B,a0 as F,v as I,o as r,c as m,a as n,b as l,w as c,d as h,y as i,K,L as $,G as H,H as f,E as j,x as q,t as E,F as O,a3 as U,A as z}from"./entry.ed2d6962.js";import{u as G}from"./navBar.3d8d6c73.js";const Q={class:"h-[85px] flex items-center justify-between"},J={class:""},W=["innerHTML"],X={__name:"header",setup(Y){const v=G(),{path:x}=P(v),g=R(),y="3ec51f1b30948ec05697da301727451c",k=A(()=>`https://financialmodelingprep.com/api/v3/search?query=${a.value}&limit=10&exchange=NASDAQ&apikey=${y}`),w=s([{to:"/",text:"首頁",page:"index"},{to:"/stockFilter",text:"股票篩選",page:"stockFilter"},{to:"/hotMap",text:"股票熱區地圖",page:"hotMap"}]),p=s([]),a=s(""),d=s(null);B(async()=>{await F(),d.value.selectCurrentSelection=()=>{}});const S=t=>{a.value=t,u()},b=()=>{z.get(k.value).then(t=>{p.value=t.data.map(o=>o.symbol)})},u=()=>{g.push(`/stocks/${a.value.toUpperCase()}`)},T=t=>x.value===t?"bg-[#063a34] text-white":"";return(t,o)=>{const _=L,C=I("vue3-simple-typeahead"),M=V;return r(),m(f,null,[n("nav",Q,[l(_,{to:"/",class:"logo ml-10 text-[28px]"},{default:c(()=>[h("Deeping Stock")]),_:1}),l(M,null,{default:c(()=>[l(C,{ref_key:"inputRef",ref:d,id:"typeahead_add",placeholder:"搜尋股票...",class:"w-[98%] p-1 bg-white rounded shadow :active:border-white",items:i(p),minInputLength:1,modelValue:i(a),"onUpdate:modelValue":o[0]||(o[0]=e=>K(a)?a.value=e:null),onOnInput:b,onKeydown:$(H(u,["prevent"]),["native","enter"]),onSelectItem:S},{"list-item-text":c(e=>[n("div",J,[n("span",{innerHTML:e.boldMatchText(e.itemProjection(e.item))},null,8,W)])]),_:1},8,["items","modelValue","onKeydown"])]),_:1}),n("div",null,[(r(!0),m(f,null,j(i(w),(e,D)=>(r(),q(_,{key:D,to:e.to,class:O(["nav-a shadow",T(e.page)])},{default:c(()=>[h(E(e.text),1)]),_:2},1032,["to","class"]))),128))])]),U(t.$slots,"main",{},void 0,!0)],64)}}},oe=N(X,[["__scopeId","data-v-90d622db"]]);export{oe as default};
